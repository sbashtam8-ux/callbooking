<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QA TEAM Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif;}
body{background:#f0f2f5;color:#333;transition:0.5s;}
body.dark{background:#111827;color:#fff;}
header{background:#1f2937;color:#fff;padding:15px 30px;display:flex;justify-content:space-between;align-items:center;transition:0.5s;}
header.dark{background:#111827;}
header h1{font-size:28px;color:#3b82f6;text-shadow:0 0 10px #3b82f6;}
.navbar a{margin-left:20px;text-decoration:none;color:#fff;padding:8px 15px;border-radius:8px;transition:0.3s;}
.navbar a.active, .navbar a:hover{background:#3b82f6;box-shadow:0 0 10px #3b82f6;}
#themeBtn{cursor:pointer;padding:5px 12px;border-radius:8px;background:#10b981;color:#fff;transition:0.3s;}
#themeBtn:hover{background:#059669;}
.container{max-width:1200px;margin:20px auto;padding:20px;}
.card{background:#fff;border-radius:15px;padding:20px;margin-bottom:20px;box-shadow:0 10px 25px rgba(0,0,0,0.1);transition:0.3s;}
body.dark .card{background:#1f2937;box-shadow:0 0 20px rgba(59,130,246,0.3);}
.list-entry{background:#e0f2fe;padding:12px;margin-bottom:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;}
body.dark .list-entry{background:#1f2937;}
.list-entry button{background:#ef4444;color:#fff;border:none;border-radius:5px;padding:5px 10px;cursor:pointer;}
.status-approved{color:#10b981;font-weight:bold;}
.status-rejected{color:#ef4444;font-weight:bold;}
.status-pending{color:#f59e0b;font-weight:bold;}
form input,form select,form textarea{width:100%;padding:10px;margin-bottom:15px;border-radius:5px;border:1px solid #ccc;text-align:right;}
form textarea::placeholder{color:#aaa;}
form button{padding:10px 20px;border:none;border-radius:5px;background:#3b82f6;color:#fff;cursor:pointer;transition:0.3s;}
form button:hover{background:#2563eb;}
.dashboard{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-top:20px;}
.dashboard canvas{background:#fff;border-radius:15px;padding:20px;box-shadow:0 10px 25px rgba(0,0,0,0.1);}
body.dark .dashboard canvas{background:#1f2937;}
</style>
</head>
<body>
<header>
<h1>QA Training Team</h1>
<div>
<span id="themeBtn">ØªØºÛŒÛŒØ± ØªÙ…</span>
<nav class="navbar">
<a href="#" class="active" data-page="home">ğŸ  Ø®Ø§Ù†Ù‡</a>
<a href="#" data-page="trainers">ğŸ§‘â€ğŸ« Ù…Ø±Ø¨ÛŒØ§Ù†</a>
<a href="#" data-page="coordination">ğŸ¤ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ</a>
<a href="#" data-page="dashboard">ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ</a>
</nav>
</div>
</header>

<div class="container" id="home">
<div class="card">
<h2>QA Training Team</h2>
<p>Ø§Ø² Ø§ÛŒÙ† Ø¨Ù‡ Ø¨Ø¹Ø¯ ØªÙ…Ø§Ù…ÛŒ ÙØ±Ø§ÛŒÙ†Ø¯Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ù…Ø±Ø¨ÛŒØ§Ù†ØŒ Ø«Ø¨Øª Ø§Ø³Ø§Ù…ÛŒ Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø¯ÙˆØ±Ù‡ Ù‡Ù…Ø±Ø§Ù‡ÛŒ ØªÙˆØ³Ø· Ø³Ø±Ù¾Ø±Ø³ØªØ§Ù† Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø¢Ù…ÙˆØ²Ø´â€ŒÙ‡Ø§ØŒ Ø§Ø² Ø§ÛŒÙ† Ù‚Ø³Ù…Øª Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯. Ø§ÛŒÙ† Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¨Ø§ Ù‡Ø¯Ù Ø§ÙØ²Ø§ÛŒØ´ Ø´ÙØ§ÙÛŒØªØŒ Ø¯Ù‚Øª Ùˆ Ú©Ø§Ø±Ø§ÛŒÛŒ ØªÛŒÙ… Ø¢Ù…ÙˆØ²Ø´ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ùˆ Ù…Ø¯ÛŒØ±Ø§Ù† Ù‚Ø§Ø¯Ø± Ø¨Ù‡ Ù†Ø¸Ø§Ø±Øª Ø¯Ù‚ÛŒÙ‚ Ø¨Ø± Ø¹Ù…Ù„Ú©Ø±Ø¯ Ù…Ø±Ø¨ÛŒØ§Ù† Ùˆ Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø¨ÙˆØ¯.</p>
</div>
</div>

<div class="container" id="trainers" style="display:none;">
<div class="card">
<h2>ÙØ±Ù… Ø«Ø¨Øª Ù…Ø±Ø¨ÛŒ</h2>
<form id="trainerForm">
<input type="text" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ù…Ø±Ø¨ÛŒ" name="trainerName" required>
<input type="text" value="CS_Specialist_QA/Training" readonly>
<select name="trainingTitle" required>
<option>Ø¢Ù…ÙˆØ²Ø´ Ø¯ÙˆØ±Ù‡ Ø§ÙˆÙ„</option>
<option>Ø¢Ù…ÙˆØ²Ø´ Ø¯ÙˆØ±Ù‡ Ø¯ÙˆÙ…</option>
<option>Ø¢Ù…ÙˆØ²Ø´ Ø¯ÙˆØ±Ù‡â€ŒØ§ÛŒ</option>
<option>Ø¢Ù…ÙˆØ²Ø´ Ù‡Ù…Ø±Ø§Ù‡ÛŒ</option>
</select>
<textarea placeholder="Ø±ÙˆØ² Ø¢Ù…ÙˆØ²Ø´ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" name="desc" required></textarea>
<input type="number" placeholder="ØªØ¹Ø¯Ø§Ø¯ Ù†ÛŒÙˆØ¬ÙˆÛŒÙ†Ø±Ù‡Ø§" name="newJoiners" required>
<input type="date" name="date" required>
<button type="submit">Ø«Ø¨Øª</button>
</form>
<div id="trainerList"></div>
</div>
</div>

<div class="container" id="coordination" style="display:none;">
<div class="card">
<h2>ÙØ±Ù… Coordination</h2>
<form id="coordForm">
<input type="text" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ú©ÙˆØ±Ø¯ÛŒÙ†Ø§ØªÙˆØ±" name="coordName" required>
<input type="text" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ú©Ø§Ø±Ø´Ù†Ø§Ø³" name="expertName" required>
<select name="trainingTitle" required>
<option>Ø¢Ù…ÙˆØ²Ø´ Ù‡Ù…Ø±Ø§Ù‡ÛŒ</option>
</select>
<textarea placeholder="Ù…Ø´Ú©Ù„Ø§Øª Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù†" name="desc" required></textarea>
<input type="number" placeholder="ØªØ¹Ø¯Ø§Ø¯ Ø§Ø¹Ø¶Ø§ Ø¯ÙˆØ±Ù‡" name="members" required>
<input type="date" name="date" required>
<button type="submit">Ø«Ø¨Øª</button>
</form>
<div id="coordList"></div>
</div>
</div>

<div class="container" id="dashboard" style="display:none;">
<h2>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ</h2>
<div class="dashboard">
<canvas id="chart1"></canvas>
<canvas id="chart2"></canvas>
<canvas id="chart3"></canvas>
<canvas id="chart4"></canvas>
</div>
<h3>Ù„ÛŒØ³Øª ÙØ±Ù…â€ŒÙ‡Ø§ Ùˆ ÙˆØ¶Ø¹ÛŒØª ØªØ§ÛŒÛŒØ¯/Ø±Ø¯</h3>
<div id="allForms"></div>
</div>

<script>
// =============== Theme =================
const themeBtn=document.getElementById('themeBtn');
themeBtn.addEventListener('click',()=>{document.body.classList.toggle('dark');localStorage.setItem('theme',document.body.className);});
if(localStorage.getItem('theme')){document.body.className=localStorage.getItem('theme');}

// =============== Pages =================
let currentPage='home';
const pages=['home','trainers','coordination','dashboard'];
const navLinks=document.querySelectorAll('.navbar a');
navLinks.forEach(link=>{
link.addEventListener('click',e=>{
e.preventDefault();
pages.forEach(p=>document.getElementById(p).style.display='none');
const page=link.getAttribute('data-page');
document.getElementById(page).style.display='block';
navLinks.forEach(l=>l.classList.remove('active'));
link.classList.add('active');
});
});

// =============== Data =================
let role=localStorage.getItem('role') || '';
let trainerData=JSON.parse(localStorage.getItem('trainerData')||'[]');
let coordData=JSON.parse(localStorage.getItem('coordData')||'[]');

function saveData(){localStorage.setItem('trainerData',JSON.stringify(trainerData));localStorage.setItem('coordData',JSON.stringify(coordData));}

function renderLists(){
const tList=document.getElementById('trainerList'); tList.innerHTML='';
trainerData.forEach((d,i)=>{
const div=document.createElement('div'); div.className='list-entry';
div.innerHTML=`${d.trainerName} - ${d.desc} - ${d.date} <span class="status-${d.status||'pending'}">${d.status||'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ'}</span>`;
if(role==='trainer'){const btn=document.createElement('button'); btn.textContent='Ø­Ø°Ù'; btn.onclick=()=>{trainerData.splice(i,1); saveData(); renderLists(); renderAllForms(); updateCharts();}; div.appendChild(btn);}
tList.appendChild(div);
});
const cList=document.getElementById('coordList'); cList.innerHTML='';
coordData.forEach((d,i)=>{
const div=document.createElement('div'); div.className='list-entry';
div.innerHTML=`${d.coordName} / ${d.expertName} - ${d.desc} - ${d.date} <span class="status-${d.status||'pending'}">${d.status||'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ'}</span>`;
if(role==='trainer'){const btn=document.createElement('button'); btn.textContent='Ø­Ø°Ù'; btn.onclick=()=>{coordData.splice(i,1); saveData(); renderLists(); renderAllForms(); updateCharts();}; div.appendChild(btn);}
cList.appendChild(div);
});
}

function renderAllForms(){
const allForms=document.getElementById('allForms'); allForms.innerHTML='';
trainerData.forEach((d,i)=>{
const div=document.createElement('div'); div.className='list-entry';
div.innerHTML=`Ù…Ø±Ø¨ÛŒ: ${d.trainerName} - ${d.desc} - ${d.date} <span class="status-${d.status||'pending'}">${d.status||'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ'}</span>`;
if(role==='manager'){const approve=document.createElement('button'); approve.textContent='ØªØ§ÛŒÛŒØ¯'; approve.onclick=()=>{d.status='ØªØ§ÛŒÛŒØ¯'; saveData(); renderLists(); renderAllForms();}; const reject=document.createElement('button'); reject.textContent='Ø±Ø¯'; reject.onclick=()=>{d.status='Ø±Ø¯'; saveData(); renderLists(); renderAllForms();}; div.appendChild(approve); div.appendChild(reject);}
allForms.appendChild(div);
});
coordData.forEach((d,i)=>{
const div=document.createElement('div'); div.className='list-entry';
div.innerHTML=`Coord: ${d.coordName} / ${d.expertName} - ${d.desc} - ${d.date} <span class="status-${d.status||'pending'}">${d.status||'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ'}</span>`;
if(role==='manager'){const approve=document.createElement('button'); approve.textContent='ØªØ§ÛŒÛŒØ¯'; approve.onclick=()=>{d.status='ØªØ§ÛŒÛŒØ¯'; saveData(); renderLists(); renderAllForms();}; const reject=document.createElement('button'); reject.textContent='Ø±Ø¯'; reject.onclick=()=>{d.status='Ø±Ø¯'; saveData(); renderLists(); renderAllForms();}; div.appendChild(approve); div.appendChild(reject);}
allForms.appendChild(div);
});
}

// =============== Charts =================
const charts=[]; const ctxIds=['chart1','chart2','chart3','chart4'];
ctxIds.forEach((id,i)=>{const ctx=document.getElementById(id).getContext('2d'); charts.push(new Chart(ctx,{type:'bar',data:{labels:['ØªØ¹Ø¯Ø§Ø¯ Ø«Ø¨Øªâ€ŒÙ‡Ø§'],datasets:[{label:id,data:[0],backgroundColor:['#3b82f6','#10b981','#f59e0b','#ef4444'][i]}]},options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}}));});
function updateCharts(){const labels=['Ø¢Ù…ÙˆØ²Ø´ Ø¯ÙˆØ±Ù‡ Ø§ÙˆÙ„','Ø¢Ù…ÙˆØ²Ø´ Ø¯ÙˆØ±Ù‡ Ø¯ÙˆÙ…','Ø¢Ù…ÙˆØ²Ø´ Ø¯ÙˆØ±Ù‡â€ŒØ§ÛŒ','Ø¢Ù…ÙˆØ²Ø´ Ù‡Ù…Ø±Ø§Ù‡ÛŒ']; const counts=labels.map(l=>trainerData.filter(d=>d.desc.includes(l)).length + coordData.filter(d=>d.desc.includes(l)).length); charts.forEach((chart,i)=>{chart.data.datasets[0].data=[counts[i]]; chart.update();});}

// =============== Form Submit =================
document.getElementById('trainerForm').addEventListener('submit',function(e){
e.preventDefault();
const f=e.target;
trainerData.push({trainerName:f.trainerName.value,desc:f.desc.value,newJoiners:f.newJoiners.value,date:f.date.value,status:'pending'});
f.reset(); saveData(); renderLists(); renderAllForms(); updateCharts(); alert('Ø«Ø¨Øª Ù…Ø±Ø¨ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.');
});
document.getElementById('coordForm').addEventListener('submit',function(e){
e.preventDefault();
const f=e.target;
coordData.push({coordName:f.coordName.value,expertName:f.expertName.value,desc:f.desc.value,members:f.members.value,date:f.date.value,status:'pending'});
f.reset(); saveData(); renderLists(); renderAllForms(); updateCharts(); alert('Ø«Ø¨Øª Coordination Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.');
});

// =============== Show Page =================
if(!role){alert('Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯'); window.location.href='login.html';}
else{document.getElementById(currentPage).style.display='block'; renderLists(); renderAllForms(); updateCharts();}
</script>
</body>
</html>
